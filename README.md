# OSS License Access

[![Release](https://jitpack.io/v/LastaApps/OssLicenseAccess.svg)](https://jitpack.io/#Lastaapps/OssLicenseAccess)

The purpose of this library is to provide an easy access to the license files generated by Google's open-source [OSS licenses plugin](https://github.com/google/play-services-plugins/tree/master/oss-licenses-plugin). Using this library you can get all the artifacts names and their licenses and show them in your own UI.



## Setup

You have to setup both OSS plugin and OSS License Access.

We use JitPack to distribute the library.

You may need to manually sync your project once more if the classes aren't available immediately. Go to File > Sync Project with Gradle files

#### Kotlin DSL

root `build.gradle.kts`.

```kotlin
buildscript {
    dependencies {
        classpath("com.google.android.gms:oss-licenses-plugin:0.10.4")
    }
}
// if you are not using settings.gradle.kts dependency management
allprojects {
    repositories {
        maven("https://jitpack.io")
    }
}
```

If you use dependency management is managed in `settings.gradle.kts` (preferred).

```kotlin
dependencyResolutionManagement {
    repositories {
        maven("https://jitpack.io")
    }
}
```

And than in your app level `build.gradle.kts`.

```kotlin
plugins {
    id("com.google.android.gms.oss-licenses-plugin")
}
dependencies {
    implementation("com.github.Lastaapps:OssLicenseAccess:1.0")

    // don't do that, we are trying to get rid of it
    //implementation("com.google.android.gms:play-services-oss-licenses:17.0.0")
}
```

#### Gradle

root `build.gradle`.

```groovy
buildscript {
    dependencies {
        classpath("com.google.android.gms:oss-licenses-plugin:0.10.4")
    }
}
// if you are not using settings.gradle.kts dependency management
allprojects {
    repositories {
        maven { url "https://jitpack.io" }
    }
}
```

If you use dependency management is managed in `settings.gradle` (preferred).

```groovy
dependencyResolutionManagement {
    repositories {
        maven { url "https://jitpack.io"}
    }
}
```

And than in your app level `build.gradle`.

```groovy
plugins {
    id("com.google.android.gms.oss-licenses-plugin")
}
dependencies {
    implementation("com.github.Lastaapps:OssLicenseAccess:1.0")

    // don't do that, we are trying to get rid of it
    //implementation("com.google.android.gms:play-services-oss-licenses:17.0.0")
}
```



## Usage

At first you have to load all the artifacts.

```kotlin
import cz.lastaapps.osslicenseaccess.LicenseLoader

val list: List<ArtifactLicense> = LicenseLoader.loadLicenses(context)
val name: String = list.first().name
```

Then when an user wants to view a specific license, you get it by

```kotlin
import cz.lastaapps.osslicenseaccess.LicenseLoader

val text: String = LicenseLoader.loadLicenseText(context, license)
```

Many libraries don't provide full license, only a link, so make sure all the link are going to be click able.

### Sample

You can see sample app, clone this repo and view code in the `sample`  module.

## License

```
MIT License

Copyright (c) 2022 Petr Laštovička as Lasta Apps

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

```

